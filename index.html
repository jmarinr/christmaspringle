<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Christmas Pringle - Tarjetas Navide√±as M√°gicas</title>
<meta name="description" content="Tarjetas navide√±as en acuarela hechas a mano en Costa Rica. Compra f√°cil por WhatsApp. Colecci√≥n Arte Pringle y Santa Tracker." />

<!-- Open Graph / Twitter -->
<meta property="og:title" content="Christmas Pringle - Tarjetas Navide√±as M√°gicas">
<meta property="og:description" content="Acuarelas √∫nicas para regalar en Navidad. Ver cat√°logo y comprar por WhatsApp.">
<meta property="og:image" content="christmas-pringle-logo.png">
<meta property="og:url" content="https://christmaspringle.com/">
<meta name="twitter:card" content="summary_large_image">

<link rel="icon" type="image/png" href="christmas-pringle-logo.png">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;600;700&family=Mountains+of+Christmas:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
:root{
  /* Colores base (modo claro) */
  --bg-sky-1:#4FC3F7; --bg-sky-2:#81D4FA; --bg-sky-3:#B3E5FC;
  --white:#fff; --black:#0e1420;
  --text-dark:#263238; --text-muted:#5b6b75;
  --primary-red:#E74C3C; --primary-green:#00C853; --primary-blue:#039BE5; --primary-gold:#FFB300;
  --chip-green-from:#00C853; --chip-green-to:#69F0AE;
  --chip-yellow-from:#FFB300; --chip-yellow-to:#FFD54F; --chip-yellow-text:#332300;
  --chip-blue-from:#039BE5; --chip-blue-to:#4FC3F7;
  --chip-violet-from:#8E24AA; --chip-violet-to:#BA68C8;
  --chip-red-from:#E74C3C; --chip-red-to:#C0392B;

  --panel:#ffffff; --panel-contrast:#0d1522;
  --panel-subtle:#f4f6f8;
  --card-shadow:0 4px 16px rgba(0,0,0,.08);
  --card-shadow-lg:0 12px 32px rgba(0,0,0,.16);

  /* Oscuro suave */
  --dark-bg:#0c1220;
  --dark-panel:#0f1a2b;
  --dark-text:#E7ECEF;
  --dark-muted:#B8C2CC;

  /* Marcos arte */
  --wood:#7a5236; --wood-dark:#5b3c28; --mat:#f7f6f2;

  /* Bulbos */
  --bulb-red:#ff5858; --bulb-green:#31d67b; --bulb-blue:#3bb6ff; --bulb-yellow:#ffd15a;
  --wire:#101317; --wire-dark:#e8edf4;

  /* Accesibilidad */
  --focus:#ffd54f;

  /* Misc */
  --shadow-soft:0 4px 16px rgba(0,0,0,.08);
  --shadow-medium:0 8px 24px rgba(0,0,0,.12);
  --shadow-hover:0 12px 32px rgba(0,0,0,.16);
}

/* ===== Base ===== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  font-family:'Google Sans',system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
  background:linear-gradient(180deg,var(--bg-sky-1) 0%,var(--bg-sky-2) 50%,var(--bg-sky-3) 100%);
  color:var(--text-dark); overflow-x:hidden;
}

/* ===== Nieve ===== */
.snow-container{position:fixed; inset:0; pointer-events:none; z-index:9999; overflow:hidden}
.snowflake{position:absolute; top:-10px; color:#fff; font-size:1.3em; opacity:.75; text-shadow:0 0 10px rgba(255,255,255,.7); animation:snowfall linear infinite}
@keyframes snowfall{
  0%{transform:translateY(0) translateX(0) rotate(0); opacity:0}
  10%{opacity:.9}
  90%{opacity:.9}
  100%{transform:translateY(100vh) translateX(-120px) rotate(-360deg); opacity:0}
}

/* ===== Tren hacia la izquierda con Santa Tracker ===== */
.train-container{--train-duration:42s; position:fixed; bottom:60px; left:100vw; z-index:10000; animation:trainMoveLeft var(--train-duration) linear infinite}
@keyframes trainMoveLeft{0%{left:100vw}100%{left:-950px}}
.train{display:flex; align-items:flex-end; gap:6px; filter:drop-shadow(0 12px 24px rgba(0,0,0,.3))}
.wagon,.engine{font-size:5.2em; line-height:1; animation:wBounce .6s ease-in-out infinite}
.wagon:nth-child(2){animation-delay:.05s}.wagon:nth-child(3){animation-delay:.1s}.wagon:nth-child(4){animation-delay:.15s}.wagon:nth-child(5){animation-delay:.2s}.wagon:nth-last-child(2){animation-delay:.25s}.wagon:nth-last-child(1){animation-delay:.3s}
@keyframes wBounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.engine{transform:scaleX(-1)}
.engine-wrap{position:relative; display:inline-block}
.smoke{position:absolute; top:-58px; right:46px; font-size:2.2rem; animation:smokeRise 1.8s ease-out infinite}
@keyframes smokeRise{0%{transform:translateY(0) scale(.5); opacity:.8}100%{transform:translateY(-90px) scale(2.4); opacity:0}}

/* Faros (solo oscuro) */
body.dark .engine-wrap::after{
  content:""; position:absolute; left:-18px; bottom:20px; width:0; height:0;
  border-left:0 solid transparent; border-right:160px solid rgba(255,238,180,.28);
  border-top:36px solid transparent; border-bottom:12px solid transparent; filter:blur(2px);
}

/* Santa Tracker redondos arriba de 4 vagones */
.tracker{
  position:absolute; top:-30px; left:18px; width:92px; height:92px; border-radius:50%;
  background:radial-gradient(circle at 30% 25%,#fff 0 35%, #ffe9ec 36% 100%);
  border:4px solid #c0392b; box-shadow:0 8px 18px rgba(231,76,60,.35);
  display:flex; flex-direction:column; align-items:center; justify-content:center; color:#b23a2e; font-weight:900; text-align:center; line-height:1;
}
.tracker .num{font-family:ui-monospace,SFMono-Regular,Menlo,monospace; font-size:1.05rem}
.tracker .lbl{font-size:.62rem; margin-top:2px; text-transform:uppercase}
.tracker:before{content:''; position:absolute; top:-12px; left:38px; width:14px; height:11px; background:#c0392b; border-radius:3px; box-shadow:0 2px 0 #922b21}

/* ===== Header ===== */
header{position:sticky; top:0; z-index:1000; background:rgba(255,255,255,.95); backdrop-filter:blur(16px); border-bottom:1px solid rgba(0,0,0,.06); box-shadow:var(--shadow-soft); transition:background .25s,border-color .25s}
body.dark header{background:rgba(10,16,27,.86); border-color:rgba(255,255,255,.06)}
.header-content{max-width:1600px; margin:0 auto; padding:12px 20px; display:grid; align-items:center; gap:12px; grid-template-columns:auto 1fr auto}
.logo-link{display:block; line-height:0}
.logo-img{height:170px; width:auto; border-radius:14px; object-fit:contain; display:block; filter:drop-shadow(0 2px 8px rgba(231,76,60,.22)); transition:transform .3s}
.logo-link:hover .logo-img{transform:scale(1.04)}

/* Texto central + Guirnalda de bombillos */
.header-title{
  position:relative; justify-self:center; text-align:center; line-height:1.02; letter-spacing:.5px;
  font-family:'Mountains of Christmas',cursive; font-weight:700; font-size:3.1rem; color:var(--text-dark);
  text-shadow:0 2px 0 rgba(255,255,255,.8),0 3px 10px rgba(0,0,0,.08);
}
body.dark .header-title{color:var(--dark-text); text-shadow:0 1px 0 rgba(0,0,0,.25), 0 6px 24px rgba(0,0,0,.35)}
.lights-wrap{position:absolute; left:-6px; right:-6px; top:-10px; height:56px; pointer-events:none}
svg#garland{width:100%; height:100%}
.bulb{filter:drop-shadow(0 2px 6px rgba(0,0,0,.25))}
.bulb.glow-red    { fill:var(--bulb-red) }
.bulb.glow-green  { fill:var(--bulb-green) }
.bulb.glow-blue   { fill:var(--bulb-blue) }
.bulb.glow-yellow { fill:var(--bulb-yellow) }
body.dark .wire{ stroke:var(--wire-dark) } 
.wire{ stroke:var(--wire); stroke-width:4; fill:none }

/* Chips navegaci√≥n */
nav{display:flex; gap:.6rem; flex-wrap:wrap; align-items:center; justify-content:flex-end}
.chip{position:relative; display:inline-flex; align-items:center; gap:.55rem; font-weight:800; text-decoration:none; border:2px solid transparent; color:#fff;
  padding:.78rem 1.25rem; border-radius:999px; transition:.25s; box-shadow:var(--shadow-soft); white-space:nowrap}
.chip:hover{transform:translateY(-2px); box-shadow:var(--shadow-medium)}
.chip:focus-visible{outline:3px solid var(--focus); outline-offset:2px}
.btn-home{background:linear-gradient(135deg,var(--chip-green-from),var(--chip-green-to))}
.btn-cards{background:linear-gradient(135deg,var(--chip-yellow-from),var(--chip-yellow-to)); color:var(--chip-yellow-text)}
.btn-art{background:linear-gradient(135deg,var(--chip-violet-from),var(--chip-violet-to))}
.btn-reviews{background:linear-gradient(135deg,var(--chip-blue-from),var(--chip-blue-to))}
.btn-music{background:linear-gradient(135deg,var(--chip-red-from),var(--chip-red-to))}
.btn-music::after{content:'üéÖ'; position:absolute; top:-12px; right:-10px; font-size:1.2rem; filter:drop-shadow(0 2px 4px rgba(0,0,0,.2)); transform:rotate(12deg)}

/* Switch luces (modo) */
.switch{display:inline-flex; align-items:center; gap:.5rem; color:var(--text-dark)}
body.dark .switch{color:var(--dark-text)}
.toggle{position:relative; width:56px; height:28px; background:#e9eef3; border-radius:999px; border:2px solid rgba(0,0,0,.1); cursor:pointer; transition:.2s}
.toggle::after{content:""; position:absolute; top:2px; left:2px; width:22px; height:22px; background:#fff; border-radius:50%; box-shadow:0 1px 2px rgba(0,0,0,.3); transition:transform .2s}
.toggle.on{background:#9be794; border-color:#79d070}
.toggle.on::after{transform:translateX(28px)}

/* Franja decorativa azul claro */
.hero{position:relative; min-height:140px; padding:10px 0}
.celeste-icons{position:absolute; inset:0; pointer-events:none; opacity:.18; font-size:2.1rem; display:flex; justify-content:space-around; align-items:center}
.celeste-icons span:nth-child(odd){transform:translateY(-8px)} .celeste-icons span:nth-child(even){transform:translateY(8px)}

/* Container principal */
.container{max-width:1400px; margin:0 auto; padding:2.5rem 1.25rem 4rem; background:var(--panel); border-radius:32px 32px 0 0; margin-top:12px; box-shadow:0 -12px 48px rgba(0,0,0,.12)}
body.dark .container{background:var(--dark-panel); color:var(--dark-text)}
.section-title{font-family:'Mountains of Christmas',cursive; font-size:2.7rem; text-align:center; margin-bottom:2rem; position:relative}
.section-title::after{content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-8px; width:120px; height:5px; border-radius:3px; background:linear-gradient(90deg,var(--primary-red),var(--primary-gold))}

/* Tarjetas */
.cards-grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:24px}
.card{background:var(--panel); border-radius:24px; overflow:hidden; border:3px solid transparent; box-shadow:var(--card-shadow); transition:.3s; display:flex; flex-direction:column}
body.dark .card{background:#0b1726; border-color:transparent}
.card:hover{transform:translateY(-8px); box-shadow:var(--card-shadow-lg); border-color:var(--primary-gold)}
.card-image{width:100%; aspect-ratio:4/3; background:
  radial-gradient(circle at 15% 20%, rgba(255,255,255,.7) 0 35%, transparent 36%),
  repeating-linear-gradient(45deg,#f7f7f7 0 8px,#f2f2f2 8px 16px);
  display:flex; align-items:center; justify-content:center; position:relative}
.card-photo{width:100%; height:100%; object-fit:contain; transition:transform .5s ease}
.card:hover .card-photo{transform:scale(1.03)}
.card-content{padding:18px 18px 20px}
.card h3{font-size:1.25rem; margin-bottom:.35rem}
.card p{color:var(--text-muted); line-height:1.55; margin-bottom:1rem}
body.dark .card p{color:var(--dark-muted)}
.price-row{display:flex; align-items:center; gap:.6rem; justify-content:space-between; margin-top:auto}
.price-badge{display:inline-flex; align-items:center; gap:.45rem; font-weight:800; background:linear-gradient(135deg,#FFB300,#FDD835); color:#332300; padding:.55rem .95rem; border-radius:999px; box-shadow:0 4px 12px rgba(251,188,4,.35)}
.wa-btn{display:inline-flex; align-items:center; gap:.5rem; font-weight:800; text-decoration:none; background:linear-gradient(135deg,#25D366,#1EBE57); color:#fff; padding:.6rem 1rem; border-radius:999px; box-shadow:var(--shadow-soft); transition:.2s}
.wa-btn:hover{transform:translateY(-2px); box-shadow:var(--shadow-medium)}
.wa-btn:focus-visible{outline:3px solid var(--focus); outline-offset:2px}

.loading,.no-cards{text-align:center; padding:2rem 1rem; color:var(--text-muted)}
body.dark .loading, body.dark .no-cards{color:var(--dark-muted)}

/* Lightbox */
.lightbox{position:fixed; inset:0; background:rgba(0,0,0,.85); display:none; align-items:center; justify-content:center; z-index:10050}
.lightbox.open{display:flex}
.lightbox img{max-width:90vw; max-height:88vh; border-radius:12px; box-shadow:0 10px 40px rgba(0,0,0,.6)}
/* Controles del lightbox (no invade dise√±o base) */
.lb-nav{
  position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding:0 16px; pointer-events:none;
}
.lb-btn{
  pointer-events:auto; background:rgba(255,255,255,.15); border:1px solid rgba(255,255,255,.35); width:44px; height:44px; border-radius:999px;
  display:flex; align-items:center; justify-content:center; color:#fff; font-size:1.1rem; cursor:pointer; transition:.2s;
}
.lb-btn:hover{background:rgba(255,255,255,.25)}
.lb-ind{
  position:absolute; bottom:18px; left:50%; transform:translateX(-50%); color:#fff; font-weight:800; background:rgba(0,0,0,.35);
  padding:.25rem .6rem; border-radius:999px; font-size:.9rem; letter-spacing:.5px;
}

/* Footer */
footer{background:linear-gradient(135deg,#263238,#37474F); color:#fff; text-align:center; padding:3rem 1rem}
.footer-logo{height:160px; width:auto; border-radius:12px; object-fit:contain; box-shadow:0 4px 16px rgba(0,0,0,.25)}
.footer-social{margin-top:1rem; display:flex; justify-content:center; gap:1rem}
.footer-social a{color:#fff; font-size:1.6rem; transition:.2s}
.footer-social a:hover{color:#FDD835; transform:translateY(-3px)}
.site-version{margin-top:10px; opacity:.85; font-weight:700}

/* Responsive */
@media (max-width:1200px){ .logo-img{height:150px} .header-title{font-size:2.7rem}}
@media (max-width:992px){ .logo-img{height:128px} .header-title{font-size:2.35rem} .wagon,.engine{font-size:4.2em}}
@media (max-width:800px){
  .header-content{grid-template-columns:1fr; text-align:center}
  nav{justify-content:center}
}
@media (max-width:640px){
  .logo-img{height:96px}
  .chip{padding:.6rem .9rem; font-size:.92rem}
  .cards-grid{gap:18px}
  .card-image{aspect-ratio:3/2}
  .wagon,.engine{font-size:3.3em}
  .tracker{transform:scale(.9); left:10px; top:-26px}
}

/* Prefiere menos movimiento */
@media (prefers-reduced-motion:reduce){
  .train-container{animation-duration:60s}
  .wagon,.engine,.smoke,.snowflake{animation-duration:.01ms !important; animation-iteration-count:1 !important}
}
</style>
</head>
<body>
  <!-- Nieve -->
  <div id="snowContainer" class="snow-container" aria-hidden="true"></div>

  <!-- Tren (izquierda) + Santa Tracker -->
  <div class="train-container" id="train" title="üöÇ T√≥calo para turbo 10s">
    <div class="train">
      <div class="engine-wrap"><div class="engine">üöÇ</div><div class="smoke">üí®</div></div>
      <div class="wagon" style="position:relative">üéÅ<div class="tracker"><div class="num" id="stDays">--</div><div class="lbl">d√≠as</div></div></div>
      <div class="wagon" style="position:relative">üéÅ<div class="tracker"><div class="num" id="stHours">--</div><div class="lbl">horas</div></div></div>
      <div class="wagon" style="position:relative">üéÅ<div class="tracker"><div class="num" id="stMins">--</div><div class="lbl">min</div></div></div>
      <div class="wagon" style="position:relative">üéÅ<div class="tracker"><div class="num" id="stSecs">--</div><div class="lbl">seg</div></div></div>
      <div class="wagon">üéÑ</div><div class="wagon">‚≠ê</div>
    </div>
  </div>

  <!-- Header -->
  <header id="siteHeader">
    <div class="header-content">
      <a href="#inicio" class="logo-link" aria-label="Inicio">
        <img src="christmas-pringle-logo.png" class="logo-img" alt="Christmas Pringle">
      </a>

      <!-- T√≠tulo + luces SVG -->
      <div class="header-title" id="headerTitle">
        Diversi√≥n festiva para toda la familia
        <div class="lights-wrap" aria-hidden="true">
          <svg id="garland" viewBox="0 0 1000 120" preserveAspectRatio="none">
            <path class="wire" d="M10,70 C200,30 350,110 500,60 S800,30 990,80" />
            <!-- Bombillos (red, green, blue, yellow) -->
            <g>
              <circle class="bulb glow-red"    cx="120" cy="60" r="10"/>
              <circle class="bulb glow-green"  cx="220" cy="48" r="10"/>
              <circle class="bulb glow-blue"   cx="320" cy="78" r="10"/>
              <circle class="bulb glow-yellow" cx="420" cy="58" r="10"/>
              <circle class="bulb glow-red"    cx="520" cy="50" r="10"/>
              <circle class="bulb glow-green"  cx="620" cy="72" r="10"/>
              <circle class="bulb glow-blue"   cx="720" cy="52" r="10"/>
              <circle class="bulb glow-yellow" cx="820" cy="82" r="10"/>
              <circle class="bulb glow-red"    cx="920" cy="66" r="10"/>
            </g>
          </svg>
        </div>
      </div>

      <!-- Nav + switch -->
      <nav>
        <a class="chip btn-home" href="#inicio"><i class="fa-solid fa-house"></i> Inicio</a>
        <a class="chip btn-cards" href="#tarjetas"><i class="fa-solid fa-gifts"></i> Tarjetas</a>
        <a class="chip btn-art" href="#arte"><i class="fa-solid fa-palette"></i> Arte Pringle</a>
        <a class="chip btn-reviews" href="#resenas"><i class="fa-solid fa-star"></i> Rese√±as</a>
        <button id="musicBtn" class="chip btn-music" aria-label="Reproducir o pausar m√∫sica">
          <i class="fa-solid fa-music" style="font-size:1.1rem"></i>
        </button>
        <div class="switch" aria-label="Luces y modo de color">
          <span>üéÑ Luces</span>
          <div id="modeToggle" class="toggle" role="switch" aria-checked="false" tabindex="0"></div>
        </div>
      </nav>
    </div>
  </header>

  <!-- Franja decorativa -->
  <section id="inicio" class="hero" aria-label="Presentaci√≥n">
    <div class="celeste-icons">
      <span>üßù</span><span>üéÅ</span><span>‚ùÑÔ∏è</span><span>üéÑ</span><span>üîî</span><span>‚õÑ</span><span>‚ú®</span>
    </div>
  </section>

  <!-- Contenido -->
  <main class="container">
    <!-- Tarjetas -->
    <section id="tarjetas" aria-labelledby="cardsTitle">
      <h2 id="cardsTitle" class="section-title">üé® Nuestras Tarjetas M√°gicas</h2>
      <div id="cardsGrid" class="cards-grid">
        <div class="loading">
          <i class="fas fa-spinner fa-spin" style="font-size:2.1rem;color:var(--primary-red)"></i>
          <p>Cargando tarjetas...</p>
        </div>
      </div>
    </section>

    <!-- ARTE PRINGLE -->
    <section id="arte" class="art-wrap" aria-labelledby="artTitle">
      <h2 id="artTitle" class="section-title">üñºÔ∏è Colecci√≥n Arte Pringle</h2>
      <div class="art-grid">
        <article class="frame">
          <div class="frame-inner">
            <div class="frame-image">
              <img src="arte-tren.jpg" alt="Tren de Navidad en acuarela" loading="lazy" decoding="async">
            </div>
            <div class="art-meta">
              <div class="art-title">Tren de Navidad</div>
              <a class="wa-btn art-buy" target="_blank" rel="noopener" href="https://wa.me/50670757592?text=Hola%20%F0%9F%91%8B%2C%20me%20interesa%20el%20cuadro%20%22Tren%20de%20Navidad%22%20de%20Arte%20Pringle.%20%C2%BFMe%20ayudas%20con%20la%20compra%3F"><i class="fa-brands fa-whatsapp"></i> Comprar</a>
            </div>
          </div>
        </article>

        <article class="frame">
          <div class="frame-inner">
            <div class="frame-image">
              <img src="arte-barco.jpg" alt="Barco navide√±o en acuarela" loading="lazy" decoding="async">
            </div>
            <div class="art-meta">
              <div class="art-title">Barco Navide√±o</div>
              <a class="wa-btn art-buy" target="_blank" rel="noopener" href="https://wa.me/50670757592?text=Hola%20%F0%9F%91%8B%2C%20me%20interesa%20el%20cuadro%20%22Barco%20Navide%C3%B1o%22%20de%20Arte%20Pringle.%20%C2%BFMe%20ayudas%20con%20la%20compra%3F"><i class="fa-brands fa-whatsapp"></i> Comprar</a>
            </div>
          </div>
        </article>

        <article class="frame">
          <div class="frame-inner">
            <div class="frame-image">
              <img src="arte-pueblo.jpg" alt="Pueblo navide√±o (USA) en acuarela" loading="lazy" decoding="async">
            </div>
            <div class="art-meta">
              <div class="art-title">Pueblo Navide√±o</div>
              <a class="wa-btn art-buy" target="_blank" rel="noopener" href="https://wa.me/50670757592?text=Hola%20%F0%9F%91%8B%2C%20me%20interesa%20el%20cuadro%20%22Pueblo%20Navide%C3%B1o%20(USA)%22%20de%20Arte%20Pringle.%20%C2%BFMe%20ayudas%20con%20la%20compra%3F"><i class="fa-brands fa-whatsapp"></i> Comprar</a>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- Rese√±as -->
    <section id="resenas" style="margin-top:3rem">
      <h2 class="section-title">‚≠ê Lo que dicen nuestros clientes</h2>
      <div class="no-cards">Muy pronto compartiremos rese√±as reales de nuestros compradores ‚ú®</div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <img src="christmas-pringle-logo.png" class="footer-logo" alt="Christmas Pringle">
    <p style="margin-top:10px;opacity:.9">¬© 2025 ChristmasPringle.com ‚Äî Pintando la magia de la Navidad ‚ú®</p>
    <div class="footer-social">
      <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
      <a href="https://wa.me/50670757592?text=Hola%20üëã%2C%20vi%20las%20tarjetas%20de%20Christmas%20Pringle%20y%20me%20gustar%C3%ADa%20comprar.%20%C2%BFMe%20puedes%20ayudar%3F" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
    </div>
    <div class="site-version">v1.4 ¬∑ 2025</div>
  </footer>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-label="Vista ampliada de la tarjeta">
    <img id="lightboxImg" alt="">
    <div class="lb-nav" aria-hidden="false">
      <button class="lb-btn" id="lbPrev" title="Anterior" aria-label="Anterior"><i class="fa-solid fa-chevron-left"></i></button>
      <button class="lb-btn" id="lbNext" title="Siguiente" aria-label="Siguiente"><i class="fa-solid fa-chevron-right"></i></button>
    </div>
    <div id="lbInd" class="lb-ind" aria-live="polite"></div>
  </div>

  <!-- Audio -->
  <audio id="christmasMusic" loop>
    <source src="Christmas Rap.mp3" type="audio/mpeg">
  </audio>

  <!-- JSON-LD b√°sicos -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Christmas Pringle",
    "url": "https://christmaspringle.com",
    "logo": "https://christmaspringle.com/christmas-pringle-logo.png"
  }
  </script>

<script>
/* ===== Utiles ===== */
const qs = sel => document.querySelector(sel);

/* ===== Nieve (m√°s lenta y sutil) ===== */
function createSnowflake(){
  const s=document.createElement('div');
  s.className='snowflake';
  s.textContent=['‚ùÑ','‚ùÖ','‚ùÜ'][Math.floor(Math.random()*3)];
  s.style.left=Math.random()*100+'%';
  s.style.animationDuration=(Math.random()*4+7)+'s'; // m√°s lenta
  s.style.opacity=Math.random()*.45+.35;             // m√°s sutil
  s.style.fontSize=(Math.random()*0.8+0.9)+'em';     // un poco m√°s peque√±a
  document.getElementById('snowContainer').appendChild(s);
  setTimeout(()=>s.remove(),10000);
}
function startSnow(){ for(let i=0;i<16;i++) setTimeout(createSnowflake, i*220); return setInterval(createSnowflake, 380); }
let snowTimer; setTimeout(()=>{ snowTimer=startSnow(); }, 900);

/* ===== M√∫sica ===== */
const musicBtn=qs('#musicBtn'); const audio=qs('#christmasMusic');
let playing=false;
musicBtn.addEventListener('click', async ()=>{
  try{
    if(!playing){ await audio.play(); playing=true; musicBtn.style.filter='brightness(1.05) drop-shadow(0 2px 8px rgba(0,0,0,.2))'; }
    else{ audio.pause(); playing=false; musicBtn.style.filter=''; }
  }catch(e){ alert('Tu navegador bloque√≥ el autoplay. Toca nuevamente para reproducir üéµ'); }
});

/* ===== Santa Tracker ===== */
function targetChristmas(){
  const now=new Date();
  const y = (now.getMonth()>11 || (now.getMonth()===11 && now.getDate()>25)) ? now.getFullYear()+1 : now.getFullYear();
  return new Date(y,11,25,0,0,0,0);
}
function pad(n){return String(n).padStart(2,'0')}
function updateSanta(){
  const now=new Date(); const end=targetChristmas();
  let diff=end-now; if(diff<0) diff=0;
  const d=Math.floor(diff/86400000);
  const h=Math.floor((diff%86400000)/3600000);
  const m=Math.floor((diff%3600000)/60000);
  const s=Math.floor((diff%60000)/1000);
  qs('#stDays').textContent=d; qs('#stHours').textContent=pad(h);
  qs('#stMins').textContent=pad(m); qs('#stSecs').textContent=pad(s);
}
updateSanta(); setInterval(updateSanta,1000);

/* ===== Tren turbo 10s ===== */
const train=qs('#train'); let turbo=false;
train.addEventListener('click', ()=>{
  if(turbo) return; turbo=true;
  train.style.setProperty('--train-duration','22s');
  setTimeout(()=>{ train.style.setProperty('--train-duration','42s'); turbo=false; }, 10000);
});

/* ===== Modo claro/oscuro + luces ===== */
const toggle=qs('#modeToggle'); const body=document.body;
function setMode(on){
  toggle.classList.toggle('on', on);
  toggle.setAttribute('aria-checked', on ? 'true' : 'false');
  body.classList.toggle('dark', on);
  // Peque√±o parpadeo de bombillos al encender
  const bulbs = document.querySelectorAll('.bulb');
  bulbs.forEach((b,i)=>{
    b.style.opacity = on ? '1' : '.55';
    b.style.filter = on ? 'drop-shadow(0 0 10px rgba(255,255,255,.55))' : 'drop-shadow(0 2px 6px rgba(0,0,0,.25))';
    if(on){ b.animate([{opacity:.4},{opacity:1}],{duration:350+ i*60,fill:'forwards'}); }
  });
  localStorage.setItem('cp_dark', on?'1':'0');
}
toggle.addEventListener('click', ()=> setMode(!toggle.classList.contains('on')));
toggle.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); setMode(!toggle.classList.contains('on')); }});
setMode(localStorage.getItem('cp_dark')==='1');

/* ===== Sticky header auto-hide en m√≥vil ===== */
let lastY=window.scrollY;
window.addEventListener('scroll', ()=>{
  const h = document.getElementById('siteHeader');
  const y = window.scrollY;
  if(window.innerWidth<820){
    h.style.transform = (y>lastY && y>20) ? 'translateY(-110%)' : 'translateY(0)';
  } else {
    h.style.transform = 'translateY(0)';
  }
  lastY=y;
});

/* ===== Formato CRC ===== */
const fmtCRC=(n)=>'‚Ç°'+Math.round(Number(n||0)).toLocaleString('es-CR');

/* ===== Lightbox con soporte de 2 fotos ===== */
const lightbox=qs('#lightbox'), lightboxImg=qs('#lightboxImg'), lbInd=qs('#lbInd');
const lbPrev=qs('#lbPrev'), lbNext=qs('#lbNext');
let lbImages=[], lbIndex=0;

function updateLightbox(){
  if(!lbImages.length) return;
  lightboxImg.src = lbImages[lbIndex];
  lbInd.textContent = (lbIndex+1) + ' / ' + lbImages.length;
}
function openLightbox(images){
  lbImages = images.filter(Boolean);
  lbIndex = 0;
  updateLightbox();
  lightbox.classList.add('open');
}
function closeLightbox(){ lightbox.classList.remove('open'); lbImages=[]; lbIndex=0; }

lbPrev.addEventListener('click', (e)=>{ e.stopPropagation(); if(!lbImages.length) return; lbIndex=(lbIndex-1+lbImages.length)%lbImages.length; updateLightbox(); });
lbNext.addEventListener('click', (e)=>{ e.stopPropagation(); if(!lbImages.length) return; lbIndex=(lbIndex+1)%lbImages.length; updateLightbox(); });
lightbox.addEventListener('click', closeLightbox);
document.addEventListener('keydown', e=>{
  if(!lightbox.classList.contains('open')) return;
  if(e.key==='Escape') closeLightbox();
  if(e.key==='ArrowLeft') { lbIndex=(lbIndex-1+lbImages.length)%lbImages.length; updateLightbox(); }
  if(e.key==='ArrowRight'){ lbIndex=(lbIndex+1)%lbImages.length; updateLightbox(); }
});
// Swipe m√≥vil
let touchStartX=null;
lightbox.addEventListener('touchstart',e=>{ touchStartX=e.touches[0].clientX; },{passive:true});
lightbox.addEventListener('touchend',e=>{
  if(touchStartX===null) return;
  const dx=e.changedTouches[0].clientX - touchStartX;
  if(Math.abs(dx)>40){
    if(dx<0) lbIndex=(lbIndex+1)%lbImages.length; else lbIndex=(lbIndex-1+lbImages.length)%lbImages.length;
    updateLightbox();
  }
  touchStartX=null;
},{passive:true});

/* ===== Carga de tarjetas ===== */
async function loadCards(){
  const grid=qs('#cardsGrid');
  try{
    const ts=Date.now();
    const res=await fetch(`./cards.json?t=${ts}`,{cache:'no-store'});
    if(!res.ok) throw new Error(`HTTP ${res.status}`);
    const cards=await res.json();
    if(!Array.isArray(cards)||!cards.length){
      grid.innerHTML=`<div class="no-cards"><h3>üé® Pronto habr√° tarjetas disponibles</h3></div>`; return;
    }
    cards.sort((a,b)=>a.number-b.number);
    grid.innerHTML = cards.map(c=>{
      const img1 = normalizePath(c.image, ts);
      const img2 = c.image2 ? normalizePath(c.image2, ts) : '';
      const price = fmtCRC(c.price);
      const msg = `Hola, vi la tarjeta "${c.title}" (${price}) en ChristmasPringle.com y quiero comprarla`;
      const wa  = `https://wa.me/50670757592?text=${encodeURIComponent(msg)}`;
      return `
      <article class="card">
        <div class="card-image">
          <img class="card-photo" 
               src="${img1}" alt="${escapeHtml(c.title)}" loading="lazy" decoding="async"
               sizes="(max-width:640px) 92vw, (max-width:1200px) 44vw, 31vw"
               data-img1="${img1}" data-img2="${img2}"
               onerror="this.style.opacity=0; this.parentElement.style.background='#f0f0f0'">
        </div>
        <div class="card-content">
          <h3>${escapeHtml(c.title)}</h3>
          <p>${escapeHtml(c.description)}</p>
          <div class="price-row">
            <span class="price-badge"><i class="fa-solid fa-tag"></i> ${price}</span>
            <a class="wa-btn" href="${wa}" target="_blank" rel="noopener"><i class="fa-brands fa-whatsapp"></i> Comprar</a>
          </div>
        </div>
      </article>`;
    }).join('');

    // Lightbox: click en foto => abre una o dos im√°genes
    grid.querySelectorAll('.card-photo').forEach(img=>{
      img.addEventListener('click',()=>{
        const imgs = [img.dataset.img1, img.dataset.img2].filter(Boolean);
        openLightbox(imgs.length ? imgs : [img.src]);
      });
      img.style.cursor='zoom-in';
    });

  }catch(e){
    console.error(e);
    // Fallback de 3 tarjetas est√°ticas
    const fallback = [
      {title:'Tarjeta en acuarela', description:'Edici√≥n especial', price:2500, image:'n.png'},
      {title:'Acuarela copo de nieve', description:'Hecha a mano', price:2500, image:'n.png'},
      {title:'Acuarela campanas', description:'Listas para regalar', price:2500, image:'n.png'}
    ];
    qs('#cardsGrid').innerHTML = fallback.map(c=>{
      const price=fmtCRC(c.price);
      const wa=`https://wa.me/50670757592?text=${encodeURIComponent('Hola, me interesa '+c.title+' ('+price+')')}`;
      const img1 = normalizePath(c.image, Date.now());
      return `
        <article class="card">
          <div class="card-image"><img class="card-photo" src="${img1}" alt="${escapeHtml(c.title)}" loading="lazy" decoding="async" sizes="(max-width:640px) 92vw, (max-width:1200px) 44vw, 31vw" data-img1="${img1}"></div>
          <div class="card-content">
            <h3>${escapeHtml(c.title)}</h3><p>${escapeHtml(c.description)}</p>
            <div class="price-row"><span class="price-badge"><i class="fa-solid fa-tag"></i> ${price}</span>
              <a class="wa-btn" href="${wa}" target="_blank" rel="noopener"><i class="fa-brands fa-whatsapp"></i> Comprar</a>
            </div>
          </div>
        </article>`;
    }).join('');
  }
}

function normalizePath(p, ts){
  if(!p) return '';
  // Si el JSON trae nombres antiguos sin carpeta, resp√©talos; si ya trae "images/cards/...", √∫salo tal cual
  const hasFolder = p.includes('/');
  const src = hasFolder ? p : p;
  return `${encodeURI(src)}?t=${ts}`;
}

// FIX: cierra correctamente la llamada a replace
function escapeHtml(s){
  return (s||'').replace(/[&<>"']/g, m => ({
    '&':'&amp;',
    '<':'&lt;',
    '>':'&gt;',
    '"':'&quot;',
    "'":'&#039;'
  }[m]));
}


/* ===== Enlaces suavizados ===== */
document.querySelectorAll('nav a[href^="#"]').forEach(a=>{
  a.addEventListener('click',e=>{
    e.preventDefault();
    const t=document.querySelector(a.getAttribute('href'));
    if(t) t.scrollIntoView({behavior:'smooth', block:'start'});
  });
});

/* ===== Init ===== */
window.addEventListener('load', ()=>{
  loadCards();
});
</script>
</body>
</html>
